-- Tabela de fornecedores
CREATE TABLE fornecedores (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    contato VARCHAR(100),
    telefone VARCHAR(20),
    email VARCHAR(100)
);

-- Tabela de usuários
CREATE TABLE usuarios (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    login VARCHAR(50) UNIQUE NOT NULL,
    senha VARCHAR(100) NOT NULL,
    setor VARCHAR(50),
    perfil ENUM('administrador', 'ti', 'diretoria', 'gerencia', 'funcionario') NOT NULL
);

-- Tabela de setores (opcional, para controle)
CREATE TABLE setores (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(50) NOT NULL
);

-- Tabela de cotações
CREATE TABLE cotacoes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    data_hora DATETIME DEFAULT CURRENT_TIMESTAMP,
    id_fornecedor INT NOT NULL,
    id_usuario INT NOT NULL,
    FOREIGN KEY (id_fornecedor) REFERENCES fornecedores(id),
    FOREIGN KEY (id_usuario) REFERENCES usuarios(id)
);

-- Tabela de itens de cotação
CREATE TABLE itens_cotacao (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_cotacao INT NOT NULL,
    descricao VARCHAR(255),
    quantidade INT,
    valor_unitario DECIMAL(10,2),
    FOREIGN KEY (id_cotacao) REFERENCES cotacoes(id)
);